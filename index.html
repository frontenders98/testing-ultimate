<!DOCTYPE html>

<html lang="en">

<head>

<meta charset="UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title> A-Level Business | The One</title>

<link rel="icon" type="image/png" href="logo.png">

<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;700;800&display=swap" rel="stylesheet">

<style>

/* GLOBAL FONT */

@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;700;800&display=swap');

/* NEW FONTS (For Formula Sheet) */

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:wght@600;700&display=swap');



:root {

--lime-primary: #32CD32;

--lime-dark: #228B22;

--lime-light: #F0FFF0;

--glass-bg: rgba(255, 255, 255, 0.95);

--text-dark: #1a1a1a;

--shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.07);

}



* { margin: 0; padding: 0; box-sizing: border-box; }


body {

font-family: 'Plus Jakarta Sans', sans-serif;

background: linear-gradient(135deg, #f6fff6 0%, #e8f5e9 100%);

color: var(--text-dark);

min-height: 100vh;

}



.container { max-width: 1200px; margin: 0 auto; padding: 20px; }



/* === FORMULA SHEET SPECIFIC STYLES === */

#view-formulae .formula-section { margin-bottom: 40px; }


#view-formulae .chapter-title {

font-family: 'Playfair Display', serif;

font-size: 1.6rem;

color: #1a1a1a;

margin-bottom: 20px;

border-bottom: 2px solid var(--lime-primary);

padding-bottom: 5px;

display: inline-block;

}


#view-formulae .formula-grid {

display: grid;

grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));

gap: 20px;

}


#view-formulae .formula-card {

background: white;

padding: 25px;

border-radius: 12px;

box-shadow: 0 4px 15px rgba(0,0,0,0.03);

border: 1px solid rgba(0,0,0,0.05);

transition: transform 0.2s ease;

position: relative;

overflow: hidden;

}


#view-formulae .formula-card:hover {

transform: translateY(-3px);

border-color: var(--lime-primary);

}


#view-formulae .formula-card::before {

content: ''; position: absolute; top: 0; left: 0; width: 4px; height: 100%;

background: var(--lime-primary);

}



#view-formulae .f-title {

font-family: 'Inter', sans-serif;

font-size: 0.85rem;

font-weight: 600;

color: #888;

text-transform: uppercase;

letter-spacing: 0.5px;

margin-bottom: 8px;

}


#view-formulae .f-body {

font-family: 'Inter', sans-serif;

font-size: 1.15rem;

font-weight: 500;

color: #2c3e50;

line-height: 1.4;

}



/* === APP STYLES === */

.login-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(10px); z-index: 1000; }

.login-card { background: white; padding: 50px; width: 400px; border-radius: 24px; box-shadow: var(--shadow); text-align: center; border: 1px solid var(--lime-light); }

.login-card h1 { color: var(--lime-dark); font-weight: 800; margin-bottom: 30px; }

.login-input { width: 100%; padding: 15px; margin: 10px 0; border-radius: 12px; border: 2px solid #eee; font-size: 1rem; transition: 0.3s; }

.login-input:focus { border-color: var(--lime-primary); outline: none; }


.app-header { display: flex; justify-content: space-between; align-items: center; background: var(--glass-bg); padding: 20px 30px; border-radius: 20px; margin-bottom: 30px; border: 1px solid white; box-shadow: var(--shadow); }

.header-left { display: flex; align-items: center; }

.app-logo { height: 45px; width: auto; margin-right: 15px; }

.nav-btn { background: transparent; border: none; font-weight: 700; color: #666; padding: 10px 20px; cursor: pointer; transition: 0.3s; font-size: 1rem; }

.nav-btn.active { color: var(--lime-dark); background: var(--lime-light); border-radius: 10px; }


.series-header { margin: 40px 0 20px 0; border-bottom: 2px solid #eee; padding-bottom: 10px; display: flex; align-items: baseline; gap: 15px; }

.year-big { font-size: 2rem; font-weight: 800; color: #ccc; }

.series-name { font-size: 1.4rem; font-weight: 700; color: var(--lime-dark); }

.papers-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }

.paper-card { background: white; padding: 25px; border-radius: 18px; cursor: pointer; transition: 0.3s; border: 2px solid transparent; box-shadow: 0 4px 15px rgba(0,0,0,0.03); }

.paper-card:hover { border-color: var(--lime-primary); transform: translateY(-5px); }

.paper-tag { display: inline-block; padding: 5px 10px; background: var(--lime-light); color: var(--lime-dark); border-radius: 8px; font-size: 0.8rem; font-weight: 700; margin-bottom: 10px; }


.stats-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px; }

.stat-card { background: white; padding: 25px; border-radius: 20px; box-shadow: var(--shadow); border: 1px solid var(--lime-light); text-align: center; transition: transform 0.3s ease; }

.stat-card:hover { transform: translateY(-5px); border-color: var(--lime-primary); }

.stat-value { font-size: 2.5rem; font-weight: 800; color: var(--lime-dark); display: block; margin-bottom: 5px; }

.stat-label { font-size: 0.9rem; color: #888; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; }

.modern-table { width: 100%; border-collapse: separate; border-spacing: 0 15px; margin-top: 10px; }

.modern-table thead th { color: #888; font-size: 0.85rem; text-transform: uppercase; letter-spacing: 1px; padding: 0 20px 10px 20px; border: none; background: transparent; text-align: left; }

.modern-table tbody tr { background: white; box-shadow: 0 5px 20px rgba(0,0,0,0.03); }

.modern-table td { padding: 20px; border: none; }

.modern-table td:first-child { border-top-left-radius: 15px; border-bottom-left-radius: 15px; }

.modern-table td:last-child { border-top-right-radius: 15px; border-bottom-right-radius: 15px; text-align: right; }

.score-badge { background: var(--lime-light); color: var(--lime-dark); padding: 8px 16px; border-radius: 30px; font-weight: 800; font-size: 1rem; border: 1px solid var(--lime-primary); }

.progress-track { background: #f0f0f0; height: 8px; width: 100px; border-radius: 10px; overflow: hidden; display: inline-block; vertical-align: middle; margin-right: 10px; }

.progress-fill { background: var(--lime-primary); height: 100%; border-radius: 10px; }

.reset-icon-btn { background: #fff0f0; color: #ff4757; border: 1px solid #ff4757; padding: 8px 15px; border-radius: 10px; cursor: pointer; font-weight: 700; font-size: 0.8rem; transition: 0.3s; }

.reset-icon-btn:hover { background: #ff4757; color: white; }



.workspace { display: grid; grid-template-columns: 1fr 1.2fr; gap: 30px; height: 85vh; }

.insert-panel { background: #333; border-radius: 20px; overflow: hidden; box-shadow: var(--shadow); height: 100%; position: relative; }

.insert-pdf-frame { width: 100%; height: 100%; border: none; }

.questions-panel { overflow-y: auto; padding-right: 10px; height: 100%; }

.question-card { background: white; padding: 30px; border-radius: 20px; margin-bottom: 25px; box-shadow: 0 4px 10px rgba(0,0,0,0.02); border: 1px solid #f0f0f0; }

.q-header { display: flex; justify-content: space-between; margin-bottom: 15px; }

.q-badge { background: var(--lime-dark); color: white; padding: 5px 12px; border-radius: 20px; font-weight: 700; font-size: 0.9rem; }

/* NEW: Word counter and expand button styles */
.answer-controls { display: flex; justify-content: space-between; align-items: center; margin: 10px 0; }

.word-counter { 
    font-size: 0.9rem; 
    color: #666; 
    font-weight: 600;
    padding: 8px 15px;
    background: #f8f8f8;
    border-radius: 8px;
}

.word-counter.warning { color: #ff9800; background: #fff3e0; }
.word-counter.error { color: #f44336; background: #ffebee; }
.word-counter.good { color: var(--lime-dark); background: var(--lime-light); }

.expand-btn {
    background: var(--lime-light);
    color: var(--lime-dark);
    border: 1px solid var(--lime-primary);
    padding: 8px 16px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.85rem;
    transition: 0.3s;
}

.expand-btn:hover { background: var(--lime-primary); color: white; }

textarea { width: 100%; min-height: 200px; padding: 15px; border: 2px solid #eee; border-radius: 12px; margin: 15px 0; font-family: inherit; font-size: 1rem; resize: vertical; transition: 0.3s; }

textarea.expanded { min-height: 500px; }

textarea:focus { border-color: var(--lime-primary); outline: none; }

.submit-btn { background: linear-gradient(135deg, var(--lime-primary) 0%, var(--lime-dark) 100%); color: white; border: none; padding: 12px 30px; border-radius: 50px; font-weight: 700; cursor: pointer; transition: 0.3s; width: 100%; box-shadow: 0 4px 15px rgba(50, 205, 50, 0.3); font-size: 1rem; }

.submit-btn:disabled { background: #ccc; transform: none; box-shadow: none; }

.feedback-box { margin-top: 20px; background: var(--lime-light); padding: 25px; border-radius: 16px; border: 2px solid var(--lime-primary); }

/* NEW: Enhanced feedback styles */
.ao-breakdown {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
    gap: 10px;
    margin: 15px 0;
    padding: 15px;
    background: white;
    border-radius: 10px;
}

.ao-item {
    text-align: center;
    padding: 10px;
    background: #f8f8f8;
    border-radius: 8px;
    border: 2px solid #eee;
}

.ao-item.full-marks { border-color: var(--lime-primary); background: var(--lime-light); }

.ao-label {
    font-size: 0.75rem;
    font-weight: 700;
    color: #888;
    text-transform: uppercase;
    margin-bottom: 5px;
}

.ao-score {
    font-size: 1.5rem;
    font-weight: 800;
    color: var(--lime-dark);
}

.feedback-section {
    margin: 20px 0;
    padding: 20px;
    background: white;
    border-radius: 12px;
    border-left: 4px solid var(--lime-primary);
}

.feedback-section h4 {
    font-size: 1rem;
    font-weight: 700;
    color: var(--lime-dark);
    margin-bottom: 10px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.feedback-section p {
    line-height: 1.8;
    color: #333;
    font-size: 0.95rem;
}

.model-answer-box {
    background: #2c3e50;
    color: #ecf0f1;
    padding: 25px;
    border-radius: 12px;
    margin-top: 20px;
    line-height: 1.8;
    font-size: 0.95rem;
}

.model-answer-box h4 {
    color: var(--lime-primary);
    margin-bottom: 15px;
    font-size: 1.1rem;
    font-weight: 700;
}

.score-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 2px solid var(--lime-primary);
}

.total-score {
    font-size: 2.5rem;
    font-weight: 800;
    color: var(--lime-dark);
}

.word-count-info {
    text-align: right;
    font-size: 0.9rem;
}

.word-count-info .count {
    font-weight: 700;
    color: #333;
}

.word-count-info .penalty {
    color: #f44336;
    font-weight: 700;
    margin-top: 5px;
}

.hidden { display: none !important; }

.toggle-insert { display: none; margin-bottom: 15px; background: #eee; padding: 10px; text-align: center; border-radius: 10px; cursor: pointer; }

@media (max-width: 900px) { .workspace { grid-template-columns: 1fr; height: auto; } .insert-panel { display: none; height: 400px; } .insert-panel.show { display: block; } .toggle-insert { display: block; } }



/* === DEFINITIONS SECTION STYLES === */

#view-definitions .def-section { margin-bottom: 50px; }


#view-definitions .topic-title {

font-family: 'Playfair Display', serif;

font-size: 1.8rem;

color: #1a1a1a;

margin-bottom: 25px;

border-bottom: 2px solid var(--lime-primary);

padding-bottom: 8px;

display: inline-block;

}


#view-definitions .def-grid {

display: grid;

grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));

gap: 20px;

}


#view-definitions .def-card {

background: white;

padding: 25px;

border-radius: 12px;

box-shadow: 0 4px 15px rgba(0,0,0,0.03);

border: 1px solid rgba(0,0,0,0.05);

transition: transform 0.2s ease;

position: relative;

overflow: hidden;

}


#view-definitions .def-card:hover {

transform: translateY(-3px);

border-color: var(--lime-primary);

box-shadow: 0 10px 25px rgba(50, 205, 50, 0.15);

}


/* Blue accent line for definitions to distinguish from formulae */

#view-definitions .def-card::before {

content: '';

position: absolute;

top: 0;

left: 0;

width: 4px;

height: 100%;

background: linear-gradient(180deg, #2196F3 0%, #1976D2 100%);

}



#view-definitions .def-term {

font-family: 'Inter', sans-serif;

font-size: 0.85rem;

font-weight: 600;

color: #888;

text-transform: uppercase;

letter-spacing: 0.5px;

margin-bottom: 10px;

}


#view-definitions .def-meaning {

font-family: 'Inter', sans-serif;

font-size: 1.05rem;

font-weight: 400;

color: #2c3e50;

line-height: 1.6;

}


</style>

</head>

<body>



<!-- Login Layer -->

<div class="login-screen" id="login-layer">

<div class="login-card">

<h1>üéØ A-Level Business</h1>

<input type="email" class="login-input" id="email-input" placeholder="Enter Email (e.g., john.doe@example.com)">

<button class="submit-btn" onclick="login()" style="margin-top:15px;">Continue</button>

</div>

</div>



<!-- App Layer -->

<div id="app-layer" class="hidden">



<div class="container">

<!-- Header -->

<div class="app-header">

<div class="header-left">

<img src="logo.png" class="app-logo">

<h2 id="welcome-msg" style="margin:0; color: var(--lime-dark); font-weight:800;">Welcome</h2>

</div>

<div>

<button class="nav-btn active" onclick="setView('papers')">Papers</button>

<button class="nav-btn" onclick="setView('scorecard')">Scorecard</button>

<button class="nav-btn" onclick="setView('formulae')">Formulae</button>

<button class="nav-btn" onclick="setView('definitions')">Definitions</button>

<button class="nav-btn" onclick="logout()" style="color:#ff4757; font-weight:800;">Logout</button>

</div>

</div>





<!-- View: Papers List -->

<div id="view-papers" class="hidden">

<!-- 2023 -->

<div class="series-header"><span class="year-big">2023</span><span class="series-name">May/June</span></div>

<div class="papers-grid">

<div class="paper-card" onclick="openPaper('9609_s23_qp_31')"><span class="paper-tag">Paper 31</span><h3>Corporate Strategy</h3></div>

<div class="paper-card" onclick="openPaper('9609_s23_qp_32')"><span class="paper-tag">Paper 32</span><h3>Case Study (IPA)</h3></div>

<div class="paper-card" onclick="openPaper('9609_s23_qp_33')"><span class="paper-tag">Paper 33</span><h3>Business Decisions</h3></div>

</div>

<div class="series-header"><span class="year-big">2023</span><span class="series-name">Oct/Nov</span></div>

<div class="papers-grid">

<div class="paper-card" onclick="openPaper('9609_w23_qp_31')"><span class="paper-tag">Paper 31</span><h3>Corporate Strategy</h3></div>

<div class="paper-card" onclick="openPaper('9609_w23_qp_32')"><span class="paper-tag">Paper 32</span><h3>Case Study</h3></div>

<div class="paper-card" onclick="openPaper('9609_w23_qp_33')"><span class="paper-tag">Paper 33</span><h3>Business Decisions</h3></div>

</div>

<!-- 2024 -->

<div class="series-header"><span class="year-big">2024</span><span class="series-name">Feb/March</span></div>

<div class="papers-grid">

<div class="paper-card" onclick="openPaper('9609_m24_qp_32')"><span class="paper-tag">Paper 32</span><h3>Case Study</h3></div>

<div class="paper-card" onclick="openPaper('9609_m24_qp_33')"><span class="paper-tag">Paper 33</span><h3>Business Decisions</h3></div>

</div>

<div class="series-header"><span class="year-big">2024</span><span class="series-name">May/June</span></div>

<div class="papers-grid">

<div class="paper-card" onclick="openPaper('9609_s24_qp_31')"><span class="paper-tag">Paper 31</span><h3>Corporate Strategy</h3></div>

<div class="paper-card" onclick="openPaper('9609_s24_qp_32')"><span class="paper-tag">Paper 32</span><h3>Case Study</h3></div>

<div class="paper-card" onclick="openPaper('9609_s24_qp_33')"><span class="paper-tag">Paper 33</span><h3>Business Decisions</h3></div>

</div>

</div>



<!-- View: Scorecard -->

<div id="view-scorecard" class="hidden">

<h1 style="font-weight:800; color: var(--lime-dark); margin-bottom:20px;">Your Progress</h1>

<div class="stats-container" id="stats-overview"></div>

<div id="score-table-container"></div>

<button class="reset-icon-btn" onclick="resetAll()" style="margin-top:20px; padding:12px 25px;">Reset All Data</button>

</div>



<!-- View: Formulae Sheet -->

<div id="view-formulae" class="hidden">

<h1 style="font-weight:800; color: var(--lime-dark); margin-bottom:30px;">üìê Formula Sheet</h1>



<div class="formula-section">

<h2 class="chapter-title">Chapter 1: Finance & Accounting</h2>

<div class="formula-grid">

<div class="formula-card"><div class="f-title">Net Profit Margin</div><div class="f-body">(Net Profit / Revenue) √ó 100</div></div>

<div class="formula-card"><div class="f-title">Gross Profit Margin</div><div class="f-body">(Gross Profit / Revenue) √ó 100</div></div>

<div class="formula-card"><div class="f-title">Return on Capital Employed (ROCE)</div><div class="f-body">(Operating Profit / Capital Employed) √ó 100</div></div>

<div class="formula-card"><div class="f-title">Current Ratio</div><div class="f-body">Current Assets / Current Liabilities</div></div>

<div class="formula-card"><div class="f-title">Acid Test Ratio</div><div class="f-body">(Current Assets - Inventory) / Current Liabilities</div></div>

<div class="formula-card"><div class="f-title">Gearing Ratio</div><div class="f-body">(Non-current Liabilities / Capital Employed) √ó 100</div></div>

</div>

</div>



<div class="formula-section">

<h2 class="chapter-title">Chapter 2: Marketing</h2>

<div class="formula-grid">

<div class="formula-card"><div class="f-title">Market Share</div><div class="f-body">(Company Sales / Total Market Sales) √ó 100</div></div>

<div class="formula-card"><div class="f-title">Price Elasticity of Demand (PED)</div><div class="f-body">% Change in Quantity Demanded / % Change in Price</div></div>

<div class="formula-card"><div class="f-title">Income Elasticity of Demand (YED)</div><div class="f-body">% Change in Quantity Demanded / % Change in Income</div></div>

<div class="formula-card"><div class="f-title">Marketing Budget as % of Sales</div><div class="f-body">(Marketing Budget / Sales Revenue) √ó 100</div></div>

</div>

</div>



<div class="formula-section">

<h2 class="chapter-title">Chapter 3: Operations</h2>

<div class="formula-grid">

<div class="formula-card"><div class="f-title">Capacity Utilization</div><div class="f-body">(Actual Output / Maximum Possible Output) √ó 100</div></div>

<div class="formula-card"><div class="f-title">Labour Productivity</div><div class="f-body">Total Output / Number of Employees</div></div>

<div class="formula-card"><div class="f-title">Unit Cost</div><div class="f-body">Total Costs / Units Produced</div></div>

</div>

</div>



<div class="formula-section">

<h2 class="chapter-title">Chapter 4: Human Resources</h2>

<div class="formula-grid">

<div class="formula-card"><div class="f-title">Labour Turnover</div><div class="f-body">(Number Leaving / Average Employed) √ó 100</div></div>

<div class="formula-card"><div class="f-title">Absenteeism Rate</div><div class="f-body">(Days Absent / Total Possible Days) √ó 100</div></div>

</div>

</div>



<div class="formula-section">

<h2 class="chapter-title">Chapter 5: Investment Appraisal</h2>

<div class="formula-grid">

<div class="formula-card"><div class="f-title">Payback Period</div><div class="f-body">Initial Investment / Annual Cash Inflow</div></div>

<div class="formula-card"><div class="f-title">Average Rate of Return (ARR)</div><div class="f-body">(Average Annual Profit / Initial Investment) √ó 100</div></div>

<div class="formula-card"><div class="f-title">Net Present Value (NPV)</div><div class="f-body">Sum of (Cash Flow √ó Discount Factor) - Initial Investment</div></div>

</div>

</div>

</div>



<!-- View: Definitions -->

<div id="view-definitions" class="hidden">

<h1 style="font-weight:800; color: var(--lime-dark); margin-bottom:30px;">üìö Key Definitions</h1>



<div class="def-section">

<h2 class="topic-title">Chapter 1: Business & Environment</h2>

<div class="def-grid">

<div class="def-card"><div class="def-term">Stakeholder</div><div class="def-meaning">An individual or group with a direct interest in the activities and performance of a business.</div></div>

<div class="def-card"><div class="def-term">Mission Statement</div><div class="def-meaning">A declaration of the organization's overall purpose.</div></div>

<div class="def-card"><div class="def-term">Corporate Objectives</div><div class="def-meaning">Goals of the whole organization set by senior management.</div></div>

<div class="def-card"><div class="def-term">SWOT Analysis</div><div class="def-meaning">Analysis of internal Strengths and Weaknesses, and external Opportunities and Threats.</div></div>

</div>

</div>



<div class="def-section">

<h2 class="topic-title">Chapter 2: Marketing</h2>

<div class="def-grid">

<div class="def-card"><div class="def-term">Market Segmentation</div><div class="def-meaning">Dividing a market into distinct groups of consumers with similar needs.</div></div>

<div class="def-card"><div class="def-term">Niche Marketing</div><div class="def-meaning">Targeting a small, specialized segment of a larger market.</div></div>

<div class="def-card"><div class="def-term">Marketing Mix</div><div class="def-meaning">The combination of Product, Price, Place, and Promotion used to market a product.</div></div>

<div class="def-card"><div class="def-term">Brand Loyalty</div><div class="def-meaning">The tendency of consumers to continue buying the same brand.</div></div>

</div>

</div>



<div class="def-section">

<h2 class="topic-title">Chapter 3: Finance</h2>

<div class="def-grid">

<div class="def-card"><div class="def-term">Working Capital</div><div class="def-meaning">Current Assets minus Current Liabilities.</div></div>

<div class="def-card"><div class="def-term">Cash Flow</div><div class="def-meaning">The movement of money into and out of a business.</div></div>

<div class="def-card"><div class="def-term">Break-even Point</div><div class="def-meaning">The level of output where total revenue equals total costs.</div></div>

<div class="def-card"><div class="def-term">Liquidity</div><div class="def-meaning">The ability of a business to pay its short-term debts.</div></div>

</div>

</div>



<div class="def-section">

<h2 class="topic-title">Chapter 4: Operations</h2>

<div class="def-grid">

<div class="def-card"><div class="def-term">Lean Production</div><div class="def-meaning">An approach focused on minimizing waste while maintaining quality.</div></div>

<div class="def-card"><div class="def-term">Quality Assurance</div><div class="def-meaning">A system to maintain a desired level of quality throughout production.</div></div>

<div class="def-card"><div class="def-term">Just-in-Time (JIT)</div><div class="def-meaning">Inventory management where materials arrive exactly when needed.</div></div>

<div class="def-card"><div class="def-term">Kaizen</div><div class="def-meaning">A Japanese philosophy of continuous improvement.</div></div>

</div>

</div>



<div class="def-section">

<h2 class="topic-title">Chapter 5: Human Resources</h2>

<div class="def-grid">

<div class="def-card"><div class="def-term">Motivation</div><div class="def-meaning">The internal and external factors that stimulate people to take actions.</div></div>

<div class="def-card"><div class="def-term">Delegation</div><div class="def-meaning">Assigning authority to subordinates to complete tasks.</div></div>

<div class="def-card"><div class="def-term">Autocratic Leadership</div><div class="def-meaning">A leadership style where the manager makes all decisions.</div></div>

<div class="def-card"><div class="def-term">Democratic Leadership</div><div class="def-meaning">A leadership style where employees participate in decision-making.</div></div>

</div>

</div>

</div>



<!-- View: Workspace -->

<div id="view-workspace" class="hidden">

<div class="toggle-insert" onclick="document.querySelector('.insert-panel').classList.toggle('show')">üìÑ Toggle Insert</div>

<div class="workspace">

<div class="insert-panel"><iframe class="insert-pdf-frame" id="pdf-frame"></iframe></div>

<div class="questions-panel" id="questions-container"></div>

</div>

</div>



</div>

</div>



<script>

const paperData = {

'9609_s23_qp_31': { title: 'May/June 2023 - Paper 31', pdf: '9609_s23_qp_31.pdf', questions: [

{n:'1a', t:'Define the term "corporate culture".', m:2},

{n:'1b', t:'Using examples from the case study, explain two benefits of a strong corporate culture to IPA.', m:8},

{n:'2', t:'Analyse two ways IPA could improve employee motivation.', m:8},

{n:'3', t:'Evaluate whether IPA should expand into international markets. Justify your recommendation.', m:12}

]},

'9609_s23_qp_32': { title: 'May/June 2023 - Paper 32 (IPA)', pdf: '9609_s23_qp_32.pdf', questions: [

{n:'1', t:'Analyse the impact of inflation on IPA\'s pricing strategy.', m:8},

{n:'2', t:'Evaluate the use of cost leadership strategy by IPA. Should IPA continue with this approach?', m:12}

]},

'9609_s23_qp_33': { title: 'May/June 2023 - Paper 33', pdf: '9609_s23_qp_33.pdf', questions: [

{n:'1', t:'Explain two factors that influence the choice of location for a business.', m:8},

{n:'2', t:'Evaluate the impact of technological change on business decision-making.', m:12}

]},

'9609_w23_qp_31': { title: 'Oct/Nov 2023 - Paper 31', pdf: '9609_w23_qp_31.pdf', questions: [

{n:'1', t:'Define "market segmentation".', m:2},

{n:'2', t:'Analyse two methods of market research a business could use.', m:8}

]},

'9609_w23_qp_32': { title: 'Oct/Nov 2023 - Paper 32', pdf: '9609_w23_qp_32.pdf', questions: [

{n:'1', t:'Analyse the benefits of using social media marketing.', m:8}

]},

'9609_w23_qp_33': { title: 'Oct/Nov 2023 - Paper 33', pdf: '9609_w23_qp_33.pdf', questions: [

{n:'1', t:'Evaluate the importance of cash flow management to a business.', m:12}

]},

'9609_m24_qp_32': { title: 'Feb/March 2024 - Paper 32', pdf: '9609_m24_qp_32.pdf', questions: [

{n:'1', t:'Analyse the role of leadership in achieving business objectives.', m:8}

]},

'9609_m24_qp_33': { title: 'Feb/March 2024 - Paper 33', pdf: '9609_m24_qp_33.pdf', questions: [

{n:'1', t:'Evaluate the use of ratio analysis in financial decision-making.', m:12}

]},

'9609_s24_qp_31': { title: 'May/June 2024 - Paper 31', pdf: '9609_s24_qp_31.pdf', questions: [

{n:'1', t:'Define "lean production".', m:2},

{n:'2', t:'Analyse the impact of quality management on business performance.', m:8}

]},

'9609_s24_qp_32': { title: 'May/June 2024 - Paper 32', pdf: '9609_s24_qp_32.pdf', questions: [

{n:'1', t:'Evaluate whether a business should use penetration pricing or price skimming.', m:12}

]},

'9609_s24_qp_33': { title: 'May/June 2024 - Paper 33', pdf: '9609_s24_qp_33.pdf', questions: [

{n:'1', t:'Analyse the factors influencing the choice of organizational structure.', m:8}

]}

};



function login() {

const email = document.getElementById('email-input').value.trim();

if (!email || !email.includes('@')) return alert('Please enter a valid email.');

localStorage.setItem('loggedUser', email);

location.reload();

}



function logout() {

localStorage.removeItem('loggedUser');

location.reload();

}



function getUser() { return localStorage.getItem('loggedUser'); }



function getAttempts(user) {

const raw = localStorage.getItem(`attempts_${user}`);

return raw ? JSON.parse(raw) : {};

}



function saveAttempt(user, paperId, qn, data) {

const all = getAttempts(user);

if (!all[paperId]) all[paperId] = {};

all[paperId][qn] = data;

localStorage.setItem(`attempts_${user}`, JSON.stringify(all));

}



function setView(v) {

['view-papers', 'view-scorecard', 'view-formulae', 'view-definitions', 'view-workspace'].forEach(id => {

document.getElementById(id).classList.add('hidden');

});

document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));

if (v === 'papers') {

document.getElementById('view-papers').classList.remove('hidden');

document.querySelectorAll('.nav-btn')[0].classList.add('active');

} else if (v === 'scorecard') {

document.getElementById('view-scorecard').classList.remove('hidden');

renderScorecard();

document.querySelectorAll('.nav-btn')[1].classList.add('active');

} else if (v === 'formulae') {

document.getElementById('view-formulae').classList.remove('hidden');

document.querySelectorAll('.nav-btn')[2].classList.add('active');

} else if (v === 'definitions') {

document.getElementById('view-definitions').classList.remove('hidden');

document.querySelectorAll('.nav-btn')[3].classList.add('active');

} else if (v === 'workspace') {

document.getElementById('view-workspace').classList.remove('hidden');

}

}



function openPaper(pid) {

const p = paperData[pid];

document.getElementById('pdf-frame').src = p.pdf;

const atts = getAttempts(getUser())[pid] || {};

let qHtml = '';

p.questions.forEach(q => {

const att = atts[q.n] || {};

const done = att.score !== undefined;

let aoHtml = '';

if (done) {

aoHtml = `<div class="ao-breakdown">

<div class="ao-item ${att.ao1 === 2 ? 'full-marks' : ''}">

<div class="ao-label">AO1 (Knowledge)</div>

<div class="ao-score">${att.ao1 || 0}/${q.m === 8 ? 2 : 2}</div>

</div>

<div class="ao-item ${att.ao2 === 2 ? 'full-marks' : ''}">

<div class="ao-label">AO2 (Application)</div>

<div class="ao-score">${att.ao2 || 0}/${q.m === 8 ? 2 : 2}</div>

</div>

<div class="ao-item ${(q.m === 8 && att.ao3 === 4) || (q.m === 12 && att.ao3 === 2) ? 'full-marks' : ''}">

<div class="ao-label">AO3 (Analysis)</div>

<div class="ao-score">${att.ao3 || 0}/${q.m === 8 ? 4 : 2}</div>

</div>

${q.m === 12 ? `<div class="ao-item ${att.ao4 === 6 ? 'full-marks' : ''}">

<div class="ao-label">AO4 (Evaluation)</div>

<div class="ao-score">${att.ao4 || 0}/6</div>

</div>` : ''}

</div>`;

}



qHtml += `<div class="question-card">

<div class="q-header"><strong>Q${q.n}</strong><span class="q-badge">${q.m} Marks</span></div>

<p style="font-weight:600; margin-bottom:10px;">${q.t}</p>

<div class="answer-controls">

<div class="word-counter" id="counter_${pid}_${q.n}">Words: 0</div>

<button class="expand-btn" onclick="toggleExpand('${pid}', '${q.n}')">Expand Writing Space</button>

</div>

<textarea id="ans_${pid}_${q.n}" oninput="updateWordCount('${pid}', '${q.n}', ${q.m})">${att.answer || ''}</textarea>

<button class="submit-btn ${done ? 'completed' : ''}" onclick="submitAnswer('${pid}', '${q.n}')">${done ? '‚úì Re-Evaluate' : 'Submit'}</button>

${done ? `<div class="feedback-box">

<div class="score-header">

<div>

<div class="total-score">${att.score}/${q.m}</div>

<div style="font-size:0.9rem; color:#666; margin-top:5px;">Overall Score</div>

</div>

<div class="word-count-info">

<div class="count">Word Count: ${att.word_count || 'N/A'}</div>

${att.word_count_penalty > 0 ? `<div class="penalty">Penalty: -${att.word_count_penalty} marks</div>` : ''}

</div>

</div>

${aoHtml}

<div class="feedback-section">

<h4>‚úÖ Strengths</h4>

<p>${att.strengths}</p>

</div>

<div class="feedback-section" style="border-left-color: #f44336;">

<h4>‚ö†Ô∏è Areas for Improvement</h4>

<p>${att.weaknesses}</p>

</div>

<div class="model-answer-box">

<h4>üìù Model Answer (A* Standard)</h4>

<p style="white-space: pre-line;">${att.modelAnswer}</p>

</div>

</div>` : ''}

</div>`;

});

document.getElementById('questions-container').innerHTML = qHtml;

// Update all word counts on page load

p.questions.forEach(q => {

updateWordCount(pid, q.n, q.m);

});

setView('workspace');

}



function toggleExpand(pid, qn) {

const textarea = document.getElementById(`ans_${pid}_${qn}`);

const btn = event.target;

if (textarea.classList.contains('expanded')) {

textarea.classList.remove('expanded');

btn.innerText = 'Expand Writing Space';

} else {

textarea.classList.add('expanded');

btn.innerText = 'Collapse Writing Space';

}

}



function updateWordCount(pid, qn, marks) {

const textarea = document.getElementById(`ans_${pid}_${qn}`);

const counter = document.getElementById(`counter_${pid}_${qn}`);

const text = textarea.value.trim();

const wordCount = text ? text.split(/\s+/).length : 0;

const minWords = marks === 8 ? 150 : 250;

const maxWords = marks === 8 ? 225 : 350;

counter.innerText = `Words: ${wordCount}`;

counter.classList.remove('warning', 'error', 'good');

if (wordCount === 0) {

// No styling

} else if (wordCount < minWords) {

counter.classList.add('error');

counter.innerText = `Words: ${wordCount} (min: ${minWords})`;

} else if (wordCount > maxWords) {

counter.classList.add('error');

counter.innerText = `Words: ${wordCount} (max: ${maxWords})`;

} else if (wordCount >= minWords - 20 && wordCount <= minWords) {

counter.classList.add('warning');

counter.innerText = `Words: ${wordCount} (approaching min)`;

} else if (wordCount >= maxWords - 20 && wordCount < maxWords) {

counter.classList.add('warning');

counter.innerText = `Words: ${wordCount} (approaching max)`;

} else {

counter.classList.add('good');

counter.innerText = `Words: ${wordCount} ‚úì`;

}

}



async function submitAnswer(pid, qn) {

const el = document.getElementById(`ans_${pid}_${qn}`);

const btn = event.target;

const ans = el.value.trim();

if(!ans) return alert("Please write an answer first.");



btn.innerText = "‚è≥ Strict Marking...";

btn.disabled = true;



// 1. GET QUESTION DATA

const qData = paperData[pid].questions.find(q => q.n === qn);



// 2. GENERATE STRICT RUBRIC BASED ON MARKS

let rubricInstructions = "";



if (qData.m === 12) {

// 12 Mark Evaluation Question Split: 2, 2, 2, 6

rubricInstructions = `

[IMPORTANT EXAMINER INSTRUCTIONS]

ACT AS A STRICT CAMBRIDGE EXAMINER.

You MUST follow this exact marking grid for 12 marks:

- AO1 (Knowledge): Max 2 marks.

- AO2 (Application): Max 2 marks.

- AO3 (Analysis): Max 2 marks (DO NOT AWARD MORE THAN 2).

- AO4 (Evaluation): Max 6 marks.



CRITICAL RULES:

1. If the Analysis (AO3) is strong, it is still CAPPED at 2 marks. Do not give 3 or 4 for Analysis.

2. To award high AO4, the student must show judgement, weighting of arguments, or short/long term perspective.

3. Be harsh. Do not be generous.

`;

} else if (qData.m === 8) {

// 8 Mark Analysis Question Split: 2, 2, 4, 0

rubricInstructions = `

[IMPORTANT EXAMINER INSTRUCTIONS]

ACT AS A STRICT CAMBRIDGE EXAMINER.

You MUST follow this exact marking grid for 8 marks:

- AO1 (Knowledge): Max 2 marks.

- AO2 (Application): Max 2 marks.

- AO3 (Analysis): Max 4 marks.

- AO4 (Evaluation): 0 marks (This is an Analysis question).

`;

} else if (qData.m === 20) {

// 20 Mark Essay (Just in case): 2, 3, 8, 7

rubricInstructions = `[INSTRUCTION: Mark strictly. AO1=2, AO2=3, AO3=8, AO4=7.]`;

}



// 3. COMBINE QUESTION + INSTRUCTIONS

const finalPrompt = `${qData.t}\n\n${rubricInstructions}`;



try {

const res = await fetch('https://ultimate-exam-guide.onrender.com/mark', {

method: 'POST',

headers: {'Content-Type': 'application/json'},

body: JSON.stringify({

question: finalPrompt, // We send the instructions attached to the question

case_study: "Refer to attached PDF. Use the case context strictly for AO2.",

answer: ans,

marks: qData.m

})

});



const json = await res.json();



saveAttempt(getUser(), pid, qn, {

answer: ans,

score: json.score,

ao1: json.ao1,

ao2: json.ao2,

ao3: json.ao3,

ao4: json.ao4,

word_count: json.word_count,

word_count_penalty: json.word_count_penalty,

strengths: json.strengths,

weaknesses: json.weaknesses,

modelAnswer: json.model_answer

});



openPaper(pid); // Refresh view to show feedback



} catch(e) {

console.error(e);

alert("Error: Server not responding. Try again.");

btn.innerText = "Retry";

btn.disabled = false;

}

}





function renderScorecard() {

const u = getUser();

const allAtts = getAttempts(u);

let totalQ = 0, totalAns = 0, totalScore = 0, possibleScore = 0, papersStarted = 0;

let rows = '';



Object.keys(paperData).forEach(pid => {

const pAtts = allAtts[pid] || {};

const qs = paperData[pid].questions;

const answeredCount = Object.keys(pAtts).length;

if(answeredCount > 0) papersStarted++;



let pScore = 0, pMax = 0;

qs.forEach(q => {

pMax += q.m;

if(pAtts[q.n]) {

pScore += (pAtts[q.n].score || 0);

totalScore += (pAtts[q.n].score || 0);

possibleScore += q.m;

}

});

totalQ += qs.length;

totalAns += answeredCount;



const percent = (answeredCount / qs.length) * 100;



rows += `<tr>

<td><div style="font-weight:700;">${paperData[pid].title}</div><div style="font-size:0.8rem; color:#888;">${pid}</div></td>

<td><div class="progress-track"><div class="progress-fill" style="width:${percent}%"></div></div> <span style="font-size:0.9rem; font-weight:600;">${answeredCount}/${qs.length}</span></td>

<td><span class="score-badge">${pScore}/${pMax}</span></td>

<td>${answeredCount > 0 ? `<button class="reset-icon-btn" onclick="resetPaper('${pid}')">Reset</button>` : '-'}</td>

</tr>`;

});



const accuracy = possibleScore > 0 ? Math.round((totalScore/possibleScore)*100) : 0;



document.getElementById('stats-overview').innerHTML = `

<div class="stat-card"><span class="stat-value">${papersStarted}</span><span class="stat-label">Papers Started</span></div>

<div class="stat-card"><span class="stat-value">${totalAns}</span><span class="stat-label">Questions Solved</span></div>

<div class="stat-card"><span class="stat-value">${accuracy}%</span><span class="stat-label">Global Accuracy</span></div>

`;



document.getElementById('score-table-container').innerHTML = `<table class="modern-table"><thead><tr><th>Paper</th><th>Progress</th><th>Score</th><th>Action</th></tr></thead><tbody>${rows}</tbody></table>`;

}



function resetPaper(pid) {

if(confirm("Delete all answers for this paper?")) {

const u = getUser();

const atts = getAttempts(u);

delete atts[pid];

localStorage.setItem(`attempts_${u}`, JSON.stringify(atts));

renderScorecard();

}

}

function resetAll() {

if(confirm("WIPE ALL DATA?")) { localStorage.clear(); location.reload(); }

}



if(getUser()) {

const u = getUser();

const name = u.split('.')[0];

const cleanName = name.charAt(0).toUpperCase() + name.slice(1);

document.getElementById('welcome-msg').innerText = `Welcome, ${cleanName}`;

document.getElementById('login-layer').classList.add('hidden');

document.getElementById('app-layer').classList.remove('hidden');

setView('papers');

}

</script>

</body>

</html>
